<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!-- =================== Box icons ================= -->
        <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'/>
        <link rel="shortcut icon" href="images/YammieLogoIcon.png" type="image/x-icon"/>
        <!-- Swiper CSS-->
        <link rel="stylesheet" href="css/swiper-bundle.min.css"/>

        <!-- Main CSS     -->
        <link rel="stylesheet" href="css/style.css"/>

        <link rel="stylesheet" href="css/mantenimiento.css"/>
        <!-- Producto CSS -->
        <link rel="stylesheet" href="css/producto.css"/>

        <!--css mantenimientos para el table-->

        <title>Yammie - Alimentos</title>
    </h:head>
    <h:body>
        <h:form acceptcharset="UTF-8" id="form">
            <canvas id="c"></canvas>
            <header class="header" id="header">
                <nav class="nav main_container">
                    <div class="nav_logo">
                        <a href="index.html">
                            <img src="images/YammieLogo.png" alt="" class="nav_logo-img"/>
                            <span class="snowflake"></span>
                            <span class="snowflake"></span>
                            <span class="snowflake"></span>
                            <span class="snowflake"></span>
                            <span class="snowflake"></span>
                            <span class="snowflake"></span>
                        </a>
                    </div>
                    <div class="nav_menu" id="nav-menu">
                        <ul class="nav_list">
                            <li class="nav_item">
                                <a href="index.xhtml" class="nav_link">Inicio</a>
                            </li>
                            <li class="nav_item">
                                <a href="principal.xhtml" class="nav_link">Productos</a>
                            </li>
                            <li class="nav_item">
                                <a href="#" class="nav_link">Empresa</a>
                            </li>
                            <li class="nav_item">
                                <a href="#" class="nav_link">Contacto</a> 
                            </li>
                            <hr class="divisor"/>
                            <li class="nav_item item_submenu">
                                <div class="user_container">
                                    <i class="bx bxs-user user" onclick="showUserMenu()"></i>
                                    <div class="submenu submenu_user">
                                        <h6><h:outputLabel value="#{beanUsuario.retornaNombreUser()}"></h:outputLabel></h6>
                                        <ul class="submenu_list">
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Horarios y Direcciones"
                                                               class="submenu_link"
                                                               action="#{beanUsuario.deshacerBeansComp()}"
                                                               rendered="#{beanUsuario.isRol('Cliente')}">
                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Registro Productos" 
                                                               class="submenu_link"
                                                               action="registroProducto"
                                                               rendered="#{!beanUsuario.isRol('Cliente')}">                                                                  
                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Despacho"
                                                               class="submenu_link" 
                                                               action="despacho"
                                                               rendered="#{!beanUsuario.isRol('Cliente')}">

                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Reportes"
                                                               class="submenu_link"
                                                               action="reportes"
                                                               rendered="#{beanUsuario.isRol('Admin')}">

                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Facturar"
                                                               class="submenu_link" 
                                                               action="facturar"
                                                               rendered="#{!beanUsuario.isRol('Cliente')}">

                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Usuarios"
                                                               class="submenu_link" 
                                                               action="usuarios"
                                                               rendered="#{beanUsuario.isRol('Admin')}">

                                                </h:commandLink>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Cerrar Sesión"
                                                               class="submenu_link"
                                                               action="index">
                                                </h:commandLink>
                                            </li>
                                        </ul>
                                    </div> 
                                </div>
                            </li>
                            <li class="nav_item item_submenu">
                                <div class="cart_container">
                                    <i class='bx bxs-cart-alt cart' onclick="showCartMenu()"></i>
                                    <div class="submenu submenu_cart">
                                        <h6>Carrito de compra</h6>
                                        <ul class="submenu_list">
                                            <li class="submenu_item">
                                                <p class="cart_link" onclick="showCartItemPanel()">Ver carrito</p>
                                            </li>
                                            <li class="submenu_item">
                                                <h:commandLink type="button" value="Confirmar Pedido"
                                                               class="cart_link"
                                                               rendered="#{beanUsuario.isRol('Cliente')}"></h:commandLink>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                        </ul>
                        <div class="nav_close" id="nav-close">
                            <i class='bx bx-x'></i>
                        </div>
                    </div>
                    <div class="nav_toggle" id="nav-toggle">
                        <i class='bx bx-menu'></i>
                    </div>
                    <div class="add_item" id="add_item">
                        <p>+1</p>
                    </div>
                    <div class="cart_items-panel">
                        <h1 class="cart_item-title">Artículos del carrito</h1>
                        <div class="nav_close-cart" id="nav-close-cart">
                            <i class='bx bx-x'></i>
                        </div>
                        <h:panelGroup id="wrapper" class="cart_items">

                            <h:dataTable id="table" value="#{beanPedido.listaCarrito}" var="datos" class="tableCart">
                                <h:column>
                                    <div class="cart_data">
                                        <h:graphicImage value="#{datos.foto}" class="product_img"></h:graphicImage>
                                        <h3>X1</h3>
                                        <div class="product_data_container">
                                            <h3><h:outputLabel value="#{datos.descripcion}"></h:outputLabel></h3>
                                            <div class="product_data-info">
                                                <h2>₡<h:outputLabel value="#{datos.precio}"></h:outputLabel></h2>
                                                <h:commandButton image="images/delete.png" class="button addCart removeCart">
                                                    <f:ajax listener="#{beanPedido.quitarCarrito(datos)}" execute="@form" render=":form:wrapper"/>
                                                </h:commandButton>
                                            </div>
                                        </div>
                                    </div>                    
                                </h:column>
                            </h:dataTable>
                            <div class="costs_container" style="padding-bottom: 3rem">
                                <h1 class="cost_product">Costo total en productos: ₡<h:outputLabel value="#{beanPedido.valorProductos}"/></h1>
                            </div>
                        </h:panelGroup>

                    </div>
                </nav>
            </header>

            <!-- ============================ MAIN ===================== -->
            <main class="main" id="main">

                <!-- ================ categoria =============== -->
                <section class="section product">
                    <h2 class="section_title">Alimentos</h2>
                    <div class="product_filter">
                        <h:commandButton type="button" value="Filtro" class="button filter_btn" onclick="showFilterPanel()"></h:commandButton>
                    </div>
                    <h:dataTable id="catalago" value="#{beanProducto.listaProductos}" var="datos" class="product_container grid tableProduct">
                        <h:column>
                            <div class="product_data">
                                <h:graphicImage value="#{datos.foto}" class="product_img"></h:graphicImage>
                                <div class="product_data_container">
                                    <h3><h:outputLabel value="#{datos.descripcion}"></h:outputLabel></h3>
                                    <div class="product_data-info">
                                        <h2>₡<h:outputLabel value="#{datos.precio}"></h:outputLabel></h2>
                                        <h:commandButton  image="images/cart.png" class="button addCart" type="submit"
                                                          action="#{beanPedido.agregaCarrito(datos)}" >
                                            <f:ajax render=":form:wrapper"/>
                                        </h:commandButton>
                                    </div>
                                </div> 
                            </div>                    
                        </h:column>
                    </h:dataTable>
                </section>
            </main>

            <!-- =========================== FOOTER ===================== -->
            <footer class="footer section">
                <div class="footer_container grid">
                    <div class="footer_content">
                        <a href="#" class="footer_logo-content">
                            <img src="images/YammieLogoIcon.png" alt="" class="footer_logo"/>
                            Yammie
                        </a>
                        <p class="footer_description">Disfruta de nuestro sabor original.</p>

                        <div class="footer_social">
                            <a href="https://www.facebook.com" class="footer_social-link">
                                <i class='bx bxl-facebook'></i>
                            </a>
                            <a href="https://www.twitter.com" class="footer_social-link">
                                <i class='bx bxl-twitter'></i>
                            </a>
                            <a href="https://www.instagram.com" class="footer_social-link">
                                <i class='bx bxl-instagram'></i>
                            </a>
                        </div>
                    </div>
                    <div class="footer_content">
                        <h3 class="footer_title">Principal</h3>

                        <ul class="footer_links">
                            <li>
                                <a href="#" class="footer_link">Inicio</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Categorias</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Acerca de</a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer_content">
                        <h3 class="footer_title">Nuestro Servicio</h3>

                        <ul class="footer_links">
                            <li>
                                <a href="#" class="footer_link">Iniciar Sesión</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Registrarse</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Productos</a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer_content">
                        <h3 class="footer_title">Nuestro Empresa</h3>

                        <ul class="footer_links">
                            <li>
                                <a href="#" class="footer_link">Acerca de nosotros</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Contacto</a>
                            </li>
                            <li>
                                <a href="#" class="footer_link">Nuestra misión</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <span class="footer_copy">&copy;2021 Todos los derechos reservados | <b>Yammie</b></span>

                <img src="images/papasFooter.png" alt="" class="footer_img-one"/>
            </footer>

            <!-- =============== Elementos de posicion absoluta ============= -->
            <a href="#main" class="scrollup" id="scroll-up">
                <i class='bx bx-up-arrow-alt scroll-icon'></i>
            </a>
            <div class="img_container"></div>

            <div class="filter_container">
                <div class="nav_close-filter" id="nav-close-filter">
                    <i class='bx bx-x'></i>
                </div>
                <div class="filter_data">
                    <h1>Filtros</h1>
                    <ul class="filter_list">
                        <li class="item_filter">Todos</li>
                        <li class="item_filter">Frituras</li>
                        <li class="item_filter">Bebidas</li>
                        <li class="item_filter">Pastas</li>
                        <li class="item_filter">Repostería</li>
                    </ul>
                </div>
            </div>

            <!-- Scroll reveal JS -->
            <script src="js/scrollreveal.min.js"></script>

            <!-- Swiper JS -->
            <script src="js/swiper-bundle.min.js"></script>

            <!-- Main JS -->
            <script src="js/main.js"></script>

            <!-- Jquery -->
            <script src="js/jquery-3.6.0.min.js"></script>

            <!-- producto JS -->
            <script src="js/producto.js"></script>

            <!--Sketch JS-->
            <script src="js/sketch.js"></script>

            <!--Particles Animation--> 
            <script src="js/particles.js"></script>

            <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                crossorigin="anonymous"></script> -->
        </h:form>
    </h:body>
</html>

